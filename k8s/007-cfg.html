<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kubernetes Configuration & Management Infographic</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- 
    Palette: Neon Cyber-Ops
    Background: #0f172a (Slate 900)
    Surface: #1e293b (Slate 800)
    Primary (Cyan): #06b6d4
    Secondary (Pink): #f43f5e
    Tertiary (Amber): #f59e0b
    Text: #f8fafc (Slate 50)
    -->

    <style>
        /* Chart Container Standards */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px; /* Max width constraint */
            margin-left: auto;
            margin-right: auto;
            height: 350px; /* Base height */
            max-height: 400px;
        }
        @media (max-width: 640px) {
            .chart-container {
                height: 300px;
            }
        }
        
        /* Custom Scrollbar for dark theme */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #0f172a; 
        }
        ::-webkit-scrollbar-thumb {
            background: #334155; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #475569; 
        }

        /* Syntax Highlighting Helpers */
        .code-key { color: #06b6d4; } /* Cyan */
        .code-str { color: #a7f3d0; } /* Emerald-200 */
        .code-kw { color: #f472b6; }  /* Pink */
        .code-cmt { color: #64748b; font-style: italic; } /* Slate-500 */
    </style>
</head>
<body class="bg-slate-900 text-slate-50 font-sans antialiased selection:bg-cyan-500 selection:text-white">

    <!-- Header / Hero -->
    <header class="w-full py-12 px-6 text-center border-b border-slate-800 bg-slate-900 sticky top-0 z-50 shadow-lg backdrop-blur-md bg-opacity-90">
        <h1 class="text-4xl md:text-5xl font-extrabold tracking-tight mb-4">
            <span class="text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500">Kubernetes</span>
            <span class="text-slate-300">Configuration Masterclass</span>
        </h1>
        <p class="max-w-2xl mx-auto text-slate-400 text-lg">
            Decouple configuration, secure secrets, manage resources, and control access with precision. A visual guide to the K8s control plane.
        </p>
    </header>

    <!-- Main Content Grid -->
    <main class="max-w-7xl mx-auto px-4 py-12 grid grid-cols-1 gap-16">

        <!-- Section 1: Configuration & Secrets -->
        <section class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start">
            <div class="space-y-6">
                <div class="flex items-center space-x-3 mb-2">
                    <span class="px-3 py-1 bg-cyan-500 text-slate-900 font-bold rounded text-sm">01</span>
                    <h2 class="text-3xl font-bold text-white">Decoupling Data</h2>
                </div>
                <p class="text-slate-300 leading-relaxed">
                    Hardcoding configuration destroys portability. Kubernetes solves this with two distinct objects: 
                    <strong class="text-cyan-400">ConfigMaps</strong> for standard data and <strong class="text-pink-500">Secrets</strong> for sensitive credentials.
                </p>
                <div class="bg-slate-800 p-6 rounded-xl border border-slate-700 shadow-xl">
                    <h3 class="text-lg font-semibold text-cyan-400 mb-2">Use Cases & Methods</h3>
                    <ul class="space-y-3">
                        <li class="flex items-start">
                            <span class="mr-2 text-cyan-400">▸</span>
                            <span class="text-sm text-slate-300"><strong>ConfigMap Uses:</strong> <code>nginx.conf</code>, <code>LOG_LEVEL</code>, Feature Flags.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="mr-2 text-pink-500">▸</span>
                            <span class="text-sm text-slate-300"><strong>Secret Uses:</strong> DB Passwords, TLS Certs (<code>tls.key</code>), Docker Registry Credentials.</span>
                        </li>
                    </ul>
                </div>

                <!-- Code Lab: Configuration -->
                <div class="bg-slate-950 rounded-lg border border-slate-700 overflow-hidden text-xs font-mono">
                    <div class="bg-slate-800 px-4 py-2 border-b border-slate-700 font-bold text-slate-300">Code Lab: Config & Secrets</div>
                    <div class="p-4 space-y-4 overflow-x-auto">
                        <div>
                            <p class="text-slate-400 mb-1 font-bold">Imperative (CLI):</p>
                            <div class="text-emerald-400 whitespace-pre">kubectl create configmap app-cfg --from-literal=LOG_LEVEL=info</div>
                            <div class="text-emerald-400 whitespace-pre">kubectl create secret generic db-pass --from-literal=pwd='s3cr3t'</div>
                        </div>
                        <div>
                            <p class="text-slate-400 mb-1 font-bold">Declarative (YAML Definitions):</p>
                            <div class="text-slate-300 whitespace-pre">
<span class="code-kw">apiVersion</span>: v1
<span class="code-kw">kind</span>: Secret
<span class="code-kw">metadata</span>:
  <span class="code-key">name</span>: <span class="code-str">db-pass</span>
<span class="code-kw">type</span>: Opaque
<span class="code-kw">data</span>:
  <span class="code-key">pwd</span>: <span class="code-str">c3Vicmh1</span> <span class="code-cmt"># base64 encoded</span>

<span class="code-cmt">---</span>

<span class="code-kw">kind</span>: Pod
<span class="code-kw">spec</span>:
  <span class="code-kw">containers</span>:
  - <span class="code-key">name</span>: <span class="code-str">app</span>
    <span class="code-kw">env</span>:
      <span class="code-cmt"># From ConfigMap</span>
      - <span class="code-key">name</span>: <span class="code-str">LOG_LEVEL</span>
        <span class="code-kw">valueFrom</span>:
          <span class="code-kw">configMapKeyRef</span>:
            <span class="code-key">name</span>: <span class="code-str">app-cfg</span>
            <span class="code-key">key</span>: <span class="code-str">LOG_LEVEL</span>
      <span class="code-cmt"># From Secret</span>
      - <span class="code-key">name</span>: <span class="code-str">DB_PASSWORD</span>
        <span class="code-kw">valueFrom</span>:
          <span class="code-kw">secretKeyRef</span>:
            <span class="code-key">name</span>: <span class="code-str">db-pass</span>
            <span class="code-key">key</span>: <span class="code-str">pwd</span></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Visualization: ConfigMap vs Secret Radar -->
            <div class="bg-slate-800 rounded-xl p-6 border border-slate-700 shadow-2xl h-full flex flex-col justify-center">
                <h3 class="text-center text-slate-400 text-sm uppercase tracking-wide mb-4">Object Attribute Comparison</h3>
                <div class="chart-container">
                    <canvas id="configRadarChart"></canvas>
                </div>
                <p class="text-center text-xs text-slate-500 mt-4">
                    Visualizing the operational differences between ConfigMaps and Secrets.
                </p>
            </div>
        </section>

        <hr class="border-slate-800">

        <!-- Section 2: Probes (Health) -->
        <section class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start lg:flex-row-reverse">
            <!-- Content -->
            <div class="space-y-6 lg:order-2">
                <div class="flex items-center space-x-3 mb-2">
                    <span class="px-3 py-1 bg-amber-500 text-slate-900 font-bold rounded text-sm">02</span>
                    <h2 class="text-3xl font-bold text-white">The Pulse of the Pod</h2>
                </div>
                <p class="text-slate-300 leading-relaxed">
                    Kubelet uses probes to automate self-healing. Without these, your app might be running (process exists) but deadlocked or unable to serve traffic.
                </p>
                
                <!-- Custom HTML Flow Diagram (No SVG/Mermaid) -->
                <div class="grid grid-cols-1 gap-4 mt-4">
                    <div class="bg-slate-800 border-l-4 border-amber-500 p-4 rounded-r-lg">
                        <h4 class="font-bold text-amber-500">1. Startup Probe</h4>
                        <p class="text-xs text-slate-400 mt-1">"Have you started yet?"</p>
                        <p class="text-sm text-slate-300 mt-2"><strong>Use Case:</strong> Legacy apps that take minutes to initialize (e.g., loading large caches). Protects them from being killed by Liveness probes early on.</p>
                    </div>
                    <div class="bg-slate-800 border-l-4 border-cyan-500 p-4 rounded-r-lg">
                        <h4 class="font-bold text-cyan-500">2. Readiness Probe</h4>
                        <p class="text-xs text-slate-400 mt-1">"Can you handle traffic?"</p>
                        <p class="text-sm text-slate-300 mt-2"><strong>Use Case:</strong> App temporarily overloaded or waiting for DB connection.</p>
                    </div>
                    <div class="bg-slate-800 border-l-4 border-pink-500 p-4 rounded-r-lg">
                        <h4 class="font-bold text-pink-500">3. Liveness Probe</h4>
                        <p class="text-xs text-slate-400 mt-1">"Are you alive?"</p>
                        <p class="text-sm text-slate-300 mt-2"><strong>Use Case:</strong> Deadlocks or infinite loops. Restarts Pod.</p>
                    </div>
                </div>

                <!-- Code Lab: Probes -->
                <div class="bg-slate-950 rounded-lg border border-slate-700 overflow-hidden text-xs font-mono">
                    <div class="bg-slate-800 px-4 py-2 border-b border-slate-700 font-bold text-slate-300">Code Lab: Probes (YAML)</div>
                    <div class="p-4 space-y-4 overflow-x-auto">
                        <div>
                            <p class="text-slate-400 mb-1 font-bold">Pod Spec Configuration:</p>
                            <div class="text-slate-300 whitespace-pre">
<span class="code-kw">startupProbe</span>:
  <span class="code-kw">httpGet</span>:
    <span class="code-key">path</span>: <span class="code-str">/healthz</span>
    <span class="code-key">port</span>: <span class="code-str">8080</span>
  <span class="code-key">failureThreshold</span>: <span class="code-str">30</span> <span class="code-cmt"># 30 * 10s = 300s total</span>
  <span class="code-key">periodSeconds</span>: <span class="code-str">10</span>

<span class="code-kw">livenessProbe</span>:
  <span class="code-kw">httpGet</span>:
    <span class="code-key">path</span>: <span class="code-str">/healthz</span>
    <span class="code-key">port</span>: <span class="code-str">8080</span>
  <span class="code-key">initialDelaySeconds</span>: <span class="code-str">5</span>
  <span class="code-key">periodSeconds</span>: <span class="code-str">10</span>

<span class="code-kw">readinessProbe</span>:
  <span class="code-kw">exec</span>:
    <span class="code-kw">command</span>: [<span class="code-str">"cat"</span>, <span class="code-str">"/tmp/healthy"</span>]</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Visualization: Probe Timeline Chart -->
            <div class="bg-slate-800 rounded-xl p-6 border border-slate-700 shadow-2xl lg:order-1 h-full flex flex-col justify-center">
                <h3 class="text-center text-slate-400 text-sm uppercase tracking-wide mb-4">Probe Configuration Metrics</h3>
                <div class="chart-container">
                    <canvas id="probeBarChart"></canvas>
                </div>
                <p class="text-center text-xs text-slate-500 mt-4">
                    Comparing 'Period Seconds' (frequency) and 'Failure Threshold' across probe types based on typical configs.
                </p>
            </div>
        </section>

        <hr class="border-slate-800">

        <!-- Section 3: Resource Management -->
        <section class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start">
            <div class="space-y-6">
                <div class="flex items-center space-x-3 mb-2">
                    <span class="px-3 py-1 bg-pink-500 text-slate-900 font-bold rounded text-sm">03</span>
                    <h2 class="text-3xl font-bold text-white">Resource Economics</h2>
                </div>
                <p class="text-slate-300 leading-relaxed">
                    Efficient scheduling requires explicit resource definitions. Kubernetes manages CPU (cores) and Memory (bytes) using a Request/Limit model.
                </p>
                
                <div class="grid grid-cols-2 gap-4">
                    <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                        <h4 class="text-cyan-400 font-bold border-b border-slate-600 pb-2 mb-2">Requests (Minimum)</h4>
                        <p class="text-sm text-slate-400">Guaranteed resources. Used by the scheduler to find a Node.</p>
                    </div>
                    <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                        <h4 class="text-pink-500 font-bold border-b border-slate-600 pb-2 mb-2">Limits (Maximum)</h4>
                        <p class="text-sm text-slate-400">Hard cap. CPU throttles; Memory OOMKills the container.</p>
                    </div>
                </div>

                <div class="bg-slate-800 p-4 rounded-lg border border-slate-700 mt-4">
                    <h4 class="text-white font-bold mb-2">QoS Classes</h4>
                    <ul class="text-sm space-y-2">
                        <li class="flex justify-between">
                            <span class="text-emerald-400">Guaranteed</span>
                            <span class="text-slate-400">Requests == Limits</span>
                        </li>
                        <li class="flex justify-between">
                            <span class="text-amber-400">Burstable</span>
                            <span class="text-slate-400">Requests &lt; Limits</span>
                        </li>
                    </ul>
                </div>

                <!-- Code Lab: Resources -->
                <div class="bg-slate-950 rounded-lg border border-slate-700 overflow-hidden text-xs font-mono">
                    <div class="bg-slate-800 px-4 py-2 border-b border-slate-700 font-bold text-slate-300">Code Lab: Resources</div>
                    <div class="p-4 space-y-4 overflow-x-auto">
                        <div>
                            <p class="text-slate-400 mb-1 font-bold">Imperative (CLI):</p>
                            <div class="text-emerald-400 whitespace-pre">kubectl run nginx --image=nginx --requests=cpu=200m --limits=cpu=500m</div>
                        </div>
                        <div>
                            <p class="text-slate-400 mb-1 font-bold">Declarative (YAML):</p>
                            <div class="text-slate-300 whitespace-pre">
<span class="code-kw">resources</span>:
  <span class="code-kw">requests</span>:
    <span class="code-key">memory</span>: <span class="code-str">"64Mi"</span>
    <span class="code-key">cpu</span>: <span class="code-str">"250m"</span>  <span class="code-cmt"># 0.25 core</span>
  <span class="code-kw">limits</span>:
    <span class="code-key">memory</span>: <span class="code-str">"128Mi"</span>
    <span class="code-key">cpu</span>: <span class="code-str">"500m"</span>  <span class="code-cmt"># 0.5 core</span></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Visualization: QoS Bubble Chart -->
            <div class="bg-slate-800 rounded-xl p-6 border border-slate-700 shadow-2xl h-full flex flex-col justify-center">
                <h3 class="text-center text-slate-400 text-sm uppercase tracking-wide mb-4">QoS: Requests vs Limits</h3>
                <div class="chart-container">
                    <canvas id="resourceBubbleChart"></canvas>
                </div>
                <p class="text-center text-xs text-slate-500 mt-4">
                    Bubble Size = "Burst Capacity" (Limit - Request). <br>
                    <span class="text-emerald-400">● Guaranteed</span> 
                    <span class="text-amber-400">● Burstable</span> 
                    <span class="text-red-400">● BestEffort</span>
                </p>
            </div>
        </section>

        <hr class="border-slate-800">

        <!-- Section 4: Organizing Access -->
        <section class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start lg:flex-row-reverse">
            <div class="space-y-6 lg:order-2">
                <div class="flex items-center space-x-3 mb-2">
                    <span class="px-3 py-1 bg-emerald-500 text-slate-900 font-bold rounded text-sm">04</span>
                    <h2 class="text-3xl font-bold text-white">Cluster Access</h2>
                </div>
                <p class="text-slate-300 leading-relaxed">
                    The <code>kubeconfig</code> file (usually at <code>~/.kube/config</code>) is your passport to the cluster. It organizes access into three distinct primitives that combine to form a <strong>Context</strong>.
                </p>
                
                <div class="bg-slate-800 p-6 rounded-xl border border-slate-700">
                    <p class="text-sm text-slate-300">
                        A <strong class="text-emerald-400">Context</strong> links a <strong class="text-cyan-400">Cluster</strong> (Where), a <strong class="text-pink-500">User</strong> (Who), and a <strong class="text-amber-500">Namespace</strong> (Partition).
                    </p>
                </div>

                <!-- Code Lab: Kubeconfig -->
                <div class="bg-slate-950 rounded-lg border border-slate-700 overflow-hidden text-xs font-mono">
                    <div class="bg-slate-800 px-4 py-2 border-b border-slate-700 font-bold text-slate-300">Code Lab: Kubeconfig</div>
                    <div class="p-4 space-y-4 overflow-x-auto">
                        <div>
                            <p class="text-slate-400 mb-1 font-bold">Imperative (CLI):</p>
                            <div class="text-emerald-400 whitespace-pre">kubectl config use-context prod-cluster</div>
                            <div class="text-emerald-400 whitespace-pre">kubectl config set-context --current --namespace=my-app</div>
                        </div>
                        <div>
                            <p class="text-slate-400 mb-1 font-bold">Declarative (Config structure):</p>
                            <div class="text-slate-300 whitespace-pre">
<span class="code-kw">apiVersion</span>: v1
<span class="code-kw">kind</span>: Config
<span class="code-kw">clusters</span>:
- <span class="code-key">name</span>: <span class="code-str">prod</span>
  <span class="code-key">cluster</span>: { <span class="code-key">server</span>: <span class="code-str">"..."</span> }
<span class="code-kw">users</span>:
- <span class="code-key">name</span>: <span class="code-str">admin</span>
<span class="code-kw">contexts</span>:
- <span class="code-key">name</span>: <span class="code-str">prod-ctx</span>
  <span class="code-key">context</span>:
    <span class="code-key">cluster</span>: <span class="code-str">prod</span>
    <span class="code-key">user</span>: <span class="code-str">admin</span>
    <span class="code-key">namespace</span>: <span class="code-str">backend</span></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Visualization: Kubeconfig Context Composition -->
            <div class="bg-slate-800 rounded-xl p-6 border border-slate-700 shadow-2xl lg:order-1 h-full flex flex-col justify-center">
                <h3 class="text-center text-slate-400 text-sm uppercase tracking-wide mb-4">Anatomy of a Context</h3>
                <div class="chart-container">
                    <canvas id="kubeconfigPieChart"></canvas>
                </div>
                <div class="mt-4 grid grid-cols-3 gap-2 text-center text-xs text-slate-400">
                    <div>
                        <span class="block text-cyan-400 font-bold text-lg">Cluster</span>
                        (Server URL + CA)
                    </div>
                    <div>
                        <span class="block text-pink-500 font-bold text-lg">User</span>
                        (Certs/Tokens)
                    </div>
                    <div>
                        <span class="block text-amber-500 font-bold text-lg">Namespace</span>
                        (Logical Partition)
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-slate-900 border-t border-slate-800 py-12 text-center">
        <p class="text-slate-500 text-sm">Generated for Kubernetes Configuration & Management Cheat Sheet</p>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- UTILITIES ---
        // Label wrapping logic for Chart.js
        function splitLabel(label) {
            if (label.length <= 16) return label;
            const words = label.split(' ');
            const lines = [];
            let currentLine = words[0];

            for (let i = 1; i < words.length; i++) {
                if ((currentLine + " " + words[i]).length <= 16) {
                    currentLine += " " + words[i];
                } else {
                    lines.push(currentLine);
                    currentLine = words[i];
                }
            }
            lines.push(currentLine);
            return lines;
        }

        // Shared Tooltip Config
        const commonTooltipConfig = {
            callbacks: {
                title: function(tooltipItems) {
                    const item = tooltipItems[0];
                    let label = item.chart.data.labels[item.dataIndex];
                    if (Array.isArray(label)) {
                        return label.join(' ');
                    } else {
                        return label;
                    }
                }
            }
        };

        // --- CHART 1: ConfigMap vs Secret (Radar) ---
        const ctxRadar = document.getElementById('configRadarChart').getContext('2d');
        const radarLabels = ['Sensitivity', 'Encoding Complexity', 'Storage Size', 'Ease of Editing', 'Portability'];
        const processedRadarLabels = radarLabels.map(l => splitLabel(l));

        new Chart(ctxRadar, {
            type: 'radar',
            data: {
                labels: processedRadarLabels,
                datasets: [{
                    label: 'ConfigMap',
                    data: [1, 1, 9, 10, 10], // Low sensitivity, Low complexity, High ease
                    backgroundColor: 'rgba(6, 182, 212, 0.2)', // Cyan transparent
                    borderColor: '#06b6d4',
                    pointBackgroundColor: '#06b6d4',
                    borderWidth: 2
                }, {
                    label: 'Secret',
                    data: [10, 8, 9, 5, 8], // High sensitivity, Base64 complexity, Med ease
                    backgroundColor: 'rgba(244, 63, 94, 0.2)', // Pink transparent
                    borderColor: '#f43f5e',
                    pointBackgroundColor: '#f43f5e',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    r: {
                        angleLines: { color: '#334155' },
                        grid: { color: '#334155' },
                        pointLabels: { color: '#94a3b8', font: { size: 11 } },
                        ticks: { display: false, backdropColor: 'transparent' },
                        suggestedMin: 0,
                        suggestedMax: 10
                    }
                },
                plugins: {
                    legend: { labels: { color: '#f8fafc' } },
                    tooltip: commonTooltipConfig
                }
            }
        });

        // --- CHART 2: Probe Timeline (Bar) ---
        const ctxBar = document.getElementById('probeBarChart').getContext('2d');
        const barLabels = ['Startup Probe', 'Readiness Probe', 'Liveness Probe'];
        const processedBarLabels = barLabels.map(l => splitLabel(l));

        new Chart(ctxBar, {
            type: 'bar',
            data: {
                labels: processedBarLabels,
                datasets: [
                    {
                        label: 'Period (Seconds)',
                        data: [10, 10, 5],
                        backgroundColor: '#f59e0b', // Amber
                    },
                    {
                        label: 'Failure Threshold (Count)',
                        data: [30, 3, 3], // Startup has high threshold (30*10 = 300s)
                        backgroundColor: '#06b6d4', // Cyan
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: '#334155' },
                        ticks: { color: '#94a3b8' }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { color: '#94a3b8' }
                    }
                },
                plugins: {
                    legend: { labels: { color: '#f8fafc' } },
                    tooltip: commonTooltipConfig
                }
            }
        });

        // --- CHART 3: Resource QoS (Bubble) ---
        const ctxBubble = document.getElementById('resourceBubbleChart').getContext('2d');
        
        new Chart(ctxBubble, {
            type: 'bubble',
            data: {
                datasets: [
                    {
                        label: 'BestEffort (Web Frontend)',
                        data: [{x: 0, y: 0, r: 5}], // No requests/limits
                        backgroundColor: '#f87171' // Red
                    },
                    {
                        label: 'Burstable (App Server)',
                        data: [{x: 250, y: 500, r: 25}], // Req 250, Lim 500 (Gap visualised by size)
                        backgroundColor: '#ffbbf24' // Amber
                    },
                    {
                        label: 'Guaranteed (Database)',
                        data: [{x: 1000, y: 1000, r: 10}], // Req == Lim (Small consistent bubble)
                        backgroundColor: '#10b981' // Emerald
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: {
                        title: { display: true, text: 'CPU Request (millicores)', color: '#94a3b8' },
                        grid: { color: '#334155' },
                        ticks: { color: '#94a3b8' },
                        suggestedMax: 1200
                    },
                    y: {
                        title: { display: true, text: 'CPU Limit (millicores)', color: '#94a3b8' },
                        grid: { color: '#334155' },
                        ticks: { color: '#94a3b8' },
                        suggestedMax: 1200
                    }
                },
                plugins: {
                    legend: { labels: { color: '#f8fafc' } },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label;
                            }
                        }
                    }
                }
            }
        });

        // --- CHART 4: Kubeconfig (Donut) ---
        const ctxPie = document.getElementById('kubeconfigPieChart').getContext('2d');
        const pieLabels = ['Cluster Details', 'User Credentials', 'Namespace Definition'];
        const processedPieLabels = pieLabels.map(l => splitLabel(l));

        new Chart(ctxPie, {
            type: 'doughnut',
            data: {
                labels: processedPieLabels,
                datasets: [{
                    data: [33, 33, 33], // Equal parts Conceptually
                    backgroundColor: [
                        '#06b6d4', // Cyan
                        '#f43f5e', // Pink
                        '#f59e0b'  // Amber
                    ],
                    borderWidth: 0,
                    hoverOffset: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { 
                        position: 'bottom',
                        labels: { color: '#f8fafc', padding: 20 } 
                    },
                    tooltip: commonTooltipConfig
                },
                cutout: '70%'
            }
        });

    </script>
</body>
</html>
