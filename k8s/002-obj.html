<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kubernetes Core Concepts Infographic</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body { font-family: 'Inter', sans-serif; }
        .animate-bounce-short { animation: bounce-short 0.5s ease-in-out 1; }
        @keyframes bounce-short {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-25%); }
        }
        .card-hover:hover { transform: translateY(-4px); }
    </style>
</head>
<body class="bg-slate-100 text-slate-900 min-h-screen p-4 md:p-8">

    <div class="max-w-7xl mx-auto">
        <!-- Header -->
        <header class="mb-12 text-center">
            <div class="inline-flex items-center justify-center p-4 bg-blue-600 rounded-2xl shadow-lg mb-5 transform transition hover:scale-105 duration-300">
                <i data-lucide="server" class="w-10 h-10 text-white"></i>
            </div>
            <h1 class="text-4xl md:text-5xl font-extrabold text-slate-900 mb-4 tracking-tight">Kubernetes Core Concepts</h1>
            <p class="text-lg text-slate-600 max-w-2xl mx-auto leading-relaxed">
                A visual guide to the fundamental mechanisms Kubernetes uses to organize, manage, and track cluster state.
            </p>
        </header>

        <!-- Grid Layout -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">

            <!-- 1. Names & IDs -->
            <div class="bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden card-hover transition-all duration-300">
                <div class="bg-slate-50 p-4 border-b border-slate-100 flex items-center gap-3">
                    <div class="p-2 bg-blue-100 rounded-lg text-blue-600">
                        <i data-lucide="fingerprint" class="w-6 h-6"></i>
                    </div>
                    <h3 class="text-xl font-bold text-slate-800">Names & IDs</h3>
                </div>
                <div class="p-5 space-y-4">
                    <div class="flex gap-3 items-start p-3 bg-slate-50 rounded-lg border border-slate-100">
                        <div class="flex-1">
                            <div class="flex items-center gap-1 mb-1 text-xs font-bold uppercase text-slate-500">
                                <i data-lucide="tag" class="w-3 h-3 text-blue-500"></i> Name
                            </div>
                            <div class="text-sm bg-white border px-2 py-1 rounded shadow-sm">my-nginx-pod</div>
                            <div class="text-[10px] text-slate-400 mt-1">Reusable by humans</div>
                        </div>
                        <div class="flex-1">
                            <div class="flex items-center gap-1 mb-1 text-xs font-bold uppercase text-slate-500">
                                <i data-lucide="fingerprint" class="w-3 h-3 text-purple-500"></i> UID
                            </div>
                            <div class="text-sm bg-white border px-2 py-1 rounded shadow-sm font-mono truncate">551f50a2...</div>
                            <div class="text-[10px] text-slate-400 mt-1">Unique for lifetime</div>
                        </div>
                    </div>
                    <div class="space-y-1">
                        <h4 class="text-xs font-bold uppercase tracking-wider text-slate-400">Use Case</h4>
                        <div class="text-sm text-slate-600 leading-relaxed">
                            Names are for you (CLI operations). UIDs are for the system (distinguishing new vs old objects with same name).
                        </div>
                    </div>
                </div>
            </div>

            <!-- 2. Object Management -->
            <div class="bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden card-hover transition-all duration-300">
                <div class="bg-slate-50 p-4 border-b border-slate-100 flex items-center gap-3">
                    <div class="p-2 bg-blue-100 rounded-lg text-blue-600">
                        <i data-lucide="terminal" class="w-6 h-6"></i>
                    </div>
                    <h3 class="text-xl font-bold text-slate-800">Object Management</h3>
                </div>
                <div class="p-5 space-y-4">
                    <div class="grid grid-cols-3 gap-2 text-center text-xs">
                        <div class="p-2 bg-red-50 rounded border border-red-100 hover:bg-red-100 transition">
                            <div class="font-bold text-red-600 mb-1">Imperative</div>
                            <i data-lucide="terminal" class="w-4 h-4 mx-auto mb-1 text-red-400"></i>
                            <span class="text-[10px]">Verbs (Run)</span>
                        </div>
                        <div class="p-2 bg-orange-50 rounded border border-orange-100 hover:bg-orange-100 transition">
                            <div class="font-bold text-orange-600 mb-1">Config</div>
                            <i data-lucide="file-json" class="w-4 h-4 mx-auto mb-1 text-orange-400"></i>
                            <span class="text-[10px]">Create File</span>
                        </div>
                        <div class="p-2 bg-green-50 rounded border border-green-100 hover:bg-green-100 transition">
                            <div class="font-bold text-green-600 mb-1">Declarative</div>
                            <i data-lucide="refresh-cw" class="w-4 h-4 mx-auto mb-1 text-green-400"></i>
                            <span class="text-[10px]">Apply State</span>
                        </div>
                    </div>
                    <div class="space-y-1">
                        <h4 class="text-xs font-bold uppercase tracking-wider text-slate-400">Techniques</h4>
                        <ul class="list-disc list-outside ml-4 text-xs space-y-2 text-slate-600">
                            <li><strong class="text-slate-800">Imperative:</strong> Direct verbs. Good for dev.</li>
                            <li><strong class="text-slate-800">Declarative:</strong> <code>kubectl apply -f</code>. The standard for GitOps & Prod.</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- 3. Labels & Selectors (Interactive) -->
            <div class="bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden card-hover transition-all duration-300">
                <div class="bg-slate-50 p-4 border-b border-slate-100 flex items-center gap-3">
                    <div class="p-2 bg-blue-100 rounded-lg text-blue-600">
                        <i data-lucide="filter" class="w-6 h-6"></i>
                    </div>
                    <h3 class="text-xl font-bold text-slate-800">Labels & Selectors</h3>
                </div>
                <div class="p-5 space-y-4">
                    <!-- Interactive Visual -->
                    <div class="bg-slate-100 p-3 rounded-lg" id="selector-visual">
                        <div class="flex gap-2 mb-3 justify-center">
                            <button onclick="filterPods('all')" class="filter-btn text-[10px] px-2 py-1 rounded bg-slate-800 text-white transition hover:opacity-80" data-filter="all">All</button>
                            <button onclick="filterPods('prod')" class="filter-btn text-[10px] px-2 py-1 rounded bg-white text-slate-800 border transition hover:bg-slate-50" data-filter="prod">env=prod</button>
                            <button onclick="filterPods('web')" class="filter-btn text-[10px] px-2 py-1 rounded bg-white text-slate-800 border transition hover:bg-slate-50" data-filter="web">app=web</button>
                        </div>
                        <div id="pod-container" class="flex gap-2 justify-center h-8 transition-all">
                            <!-- Pods injected by JS -->
                        </div>
                    </div>

                    <div class="space-y-1">
                        <h4 class="text-xs font-bold uppercase tracking-wider text-slate-400">Concept</h4>
                        <div class="text-sm text-slate-600">
                            <strong>Labels</strong> attach metadata. <strong>Selectors</strong> query that metadata to group resources.
                        </div>
                    </div>
                    <div class="space-y-1">
                        <h4 class="text-xs font-bold uppercase tracking-wider text-slate-400">Example</h4>
                        <div class="bg-slate-900 text-green-400 font-mono text-xs p-3 rounded-lg overflow-x-auto">
selector:<br>
&nbsp;&nbsp;app: backend<br>
&nbsp;&nbsp;env: production
                        </div>
                    </div>
                </div>
            </div>

            <!-- 4. Namespaces -->
            <div class="bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden card-hover transition-all duration-300">
                <div class="bg-slate-50 p-4 border-b border-slate-100 flex items-center gap-3">
                    <div class="p-2 bg-blue-100 rounded-lg text-blue-600">
                        <i data-lucide="box" class="w-6 h-6"></i>
                    </div>
                    <h3 class="text-xl font-bold text-slate-800">Namespaces</h3>
                </div>
                <div class="p-5 space-y-4">
                    <div class="flex gap-4 items-center justify-center p-4 bg-slate-50 rounded-lg">
                        <div class="border-2 border-dashed border-blue-300 rounded p-2 bg-blue-50 text-center w-24 transform hover:scale-105 transition">
                            <span class="text-[10px] font-bold text-blue-400 block mb-1">Dev NS</span>
                            <div class="bg-white border border-blue-200 rounded px-2 py-1 text-xs shadow-sm">DB Svc</div>
                        </div>
                        <div class="border-l-2 border-slate-300 h-8"></div>
                        <div class="border-2 border-dashed border-purple-300 rounded p-2 bg-purple-50 text-center w-24 transform hover:scale-105 transition">
                            <span class="text-[10px] font-bold text-purple-400 block mb-1">Prod NS</span>
                            <div class="bg-white border border-purple-200 rounded px-2 py-1 text-xs shadow-sm">DB Svc</div>
                        </div>
                    </div>
                    <div class="space-y-1">
                        <h4 class="text-xs font-bold uppercase tracking-wider text-slate-400">Isolation</h4>
                        <div class="text-sm text-slate-600">
                            "Virtual clusters" on the same hardware. Allows multiple teams to use the same resource names without conflict.
                        </div>
                    </div>
                </div>
            </div>

            <!-- 5. Annotations -->
            <div class="bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden card-hover transition-all duration-300">
                <div class="bg-slate-50 p-4 border-b border-slate-100 flex items-center gap-3">
                    <div class="p-2 bg-blue-100 rounded-lg text-blue-600">
                        <i data-lucide="sticky-note" class="w-6 h-6"></i>
                    </div>
                    <h3 class="text-xl font-bold text-slate-800">Annotations</h3>
                </div>
                <div class="p-5 space-y-4">
                    <div class="relative bg-white border border-slate-200 p-3 rounded-lg shadow-sm mt-2">
                        <div class="flex items-center gap-2 mb-2">
                            <i data-lucide="box" class="w-4 h-4 text-blue-600"></i>
                            <span class="text-sm font-bold">Nginx Deployment</span>
                        </div>
                        <div class="absolute -top-3 -right-2 bg-yellow-100 text-yellow-800 border border-yellow-200 p-2 rounded shadow-sm text-[10px] w-28 transform rotate-2 hover:rotate-0 transition duration-300 z-10">
                            <strong>Build Info:</strong><br>
                            Commit: a1b2c3d<br>
                            Contact: ops@co.com
                        </div>
                    </div>
                    <div class="space-y-1 mt-4">
                        <h4 class="text-xs font-bold uppercase tracking-wider text-slate-400">Distinction</h4>
                        <div class="text-sm text-slate-600">
                            Unlike labels, annotations are <strong>non-identifying</strong>. Not used for selection. Used for tool config & history.
                        </div>
                    </div>
                </div>
            </div>

            <!-- 6. Field Selectors -->
            <div class="bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden card-hover transition-all duration-300">
                <div class="bg-slate-50 p-4 border-b border-slate-100 flex items-center gap-3">
                    <div class="p-2 bg-blue-100 rounded-lg text-blue-600">
                        <i data-lucide="search" class="w-6 h-6"></i>
                    </div>
                    <h3 class="text-xl font-bold text-slate-800">Field Selectors</h3>
                </div>
                <div class="p-5 space-y-4">
                    <div class="bg-slate-900 p-3 rounded text-slate-300 font-mono text-xs mb-2 shadow-inner">
                        $ kubectl get pods \<br>
                        <span class="text-yellow-400">--field-selector</span> \<br>
                        <span class="text-green-400">status.phase=Running</span>
                    </div>
                    <div class="space-y-1">
                        <h4 class="text-xs font-bold uppercase tracking-wider text-slate-400">Function</h4>
                        <div class="text-sm text-slate-600">
                            Filters based on the resource specification/status fields (like nodeName or status), not labels.
                        </div>
                    </div>
                </div>
            </div>

            <!-- 7. Finalizers (Interactive) -->
            <div class="bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden card-hover transition-all duration-300">
                <div class="bg-slate-50 p-4 border-b border-slate-100 flex items-center gap-3">
                    <div class="p-2 bg-blue-100 rounded-lg text-blue-600">
                        <i data-lucide="shield-alert" class="w-6 h-6"></i>
                    </div>
                    <h3 class="text-xl font-bold text-slate-800">Finalizers</h3>
                </div>
                <div class="p-5 space-y-4">
                    <!-- Interactive Visual -->
                    <div class="bg-slate-50 p-3 rounded-lg flex items-center justify-between border border-slate-200" id="finalizer-container">
                        <div id="pvc-object" class="transition-opacity duration-500">
                            <div class="flex items-center gap-2">
                                <i data-lucide="database" class="w-4 h-4 text-blue-600"></i>
                                <span class="text-xs font-bold">PVC-Data</span>
                            </div>
                            <div class="text-[10px] text-slate-500 mt-1">Finalizer: protective</div>
                        </div>
                        
                        <div id="delete-state">
                            <button onclick="triggerDelete()" class="bg-red-50 text-red-600 hover:bg-red-100 p-1.5 rounded text-xs transition-colors flex items-center gap-1 px-3 border border-red-200">
                                <i data-lucide="trash-2" class="w-3 h-3"></i> Delete
                            </button>
                        </div>
                    </div>

                    <div class="space-y-1">
                        <h4 class="text-xs font-bold uppercase tracking-wider text-slate-400">Pre-delete Hook</h4>
                        <div class="text-sm text-slate-600">
                            Tells Kubernetes to wait. Enters "Terminating" state but exists until the Finalizer is removed.
                        </div>
                    </div>
                </div>
            </div>

            <!-- 8. Owners & Dependents -->
            <div class="bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden card-hover transition-all duration-300">
                <div class="bg-slate-50 p-4 border-b border-slate-100 flex items-center gap-3">
                    <div class="p-2 bg-blue-100 rounded-lg text-blue-600">
                        <i data-lucide="git-branch" class="w-6 h-6"></i>
                    </div>
                    <h3 class="text-xl font-bold text-slate-800">Owners & Dependents</h3>
                </div>
                <div class="p-5 space-y-4">
                    <div class="flex flex-col items-center gap-2 text-xs">
                        <div class="bg-blue-100 text-blue-700 px-3 py-1 rounded-full border border-blue-200 font-bold flex items-center gap-2 shadow-sm">
                            <i data-lucide="box" class="w-3 h-3"></i> Deployment (Owner)
                        </div>
                        <div class="h-4 w-px bg-slate-300"></div>
                        <div class="bg-indigo-100 text-indigo-700 px-3 py-1 rounded-full border border-indigo-200 flex items-center gap-2 shadow-sm">
                            <i data-lucide="layers" class="w-3 h-3"></i> ReplicaSet
                        </div>
                        <div class="h-4 w-px bg-slate-300"></div>
                        <div class="flex gap-2">
                            <div class="w-6 h-6 bg-green-100 border border-green-200 rounded flex items-center justify-center shadow-sm">
                                <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
                            </div>
                            <div class="w-6 h-6 bg-green-100 border border-green-200 rounded flex items-center justify-center shadow-sm">
                                <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
                            </div>
                            <div class="w-6 h-6 bg-green-100 border border-green-200 rounded flex items-center justify-center shadow-sm">
                                <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
                            </div>
                        </div>
                    </div>
                    <div class="space-y-1">
                        <h4 class="text-xs font-bold uppercase tracking-wider text-slate-400">Garbage Collection</h4>
                        <div class="text-sm text-slate-600">
                            Deleting the Owner automatically deletes Dependents (Cascading Delete) to prevent orphans.
                        </div>
                    </div>
                </div>
            </div>

            <!-- 9. Recommended Labels -->
            <div class="bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden card-hover transition-all duration-300">
                <div class="bg-slate-50 p-4 border-b border-slate-100 flex items-center gap-3">
                    <div class="p-2 bg-blue-100 rounded-lg text-blue-600">
                        <i data-lucide="check-circle" class="w-6 h-6"></i>
                    </div>
                    <h3 class="text-xl font-bold text-slate-800">Rec. Labels</h3>
                </div>
                <div class="p-5 space-y-4">
                    <div class="space-y-2">
                        <div class="flex items-center gap-2 text-xs bg-slate-50 p-2 rounded border border-slate-100">
                           <i data-lucide="check-circle" class="w-3 h-3 text-green-500"></i>
                           <span class="font-mono text-slate-600">app.kubernetes.io/name</span>
                        </div>
                        <div class="flex items-center gap-2 text-xs bg-slate-50 p-2 rounded border border-slate-100">
                           <i data-lucide="check-circle" class="w-3 h-3 text-green-500"></i>
                           <span class="font-mono text-slate-600">app.kubernetes.io/version</span>
                        </div>
                        <div class="flex items-center gap-2 text-xs bg-slate-50 p-2 rounded border border-slate-100">
                           <i data-lucide="check-circle" class="w-3 h-3 text-green-500"></i>
                           <span class="font-mono text-slate-600">app.kubernetes.io/part-of</span>
                        </div>
                     </div>
                    <div class="space-y-1">
                        <h4 class="text-xs font-bold uppercase tracking-wider text-slate-400">Benefit</h4>
                        <div class="text-sm text-slate-600">
                            Standardization allows external tools to understand app relationships regardless of who deployed them.
                        </div>
                    </div>
                </div>
            </div>

            <!-- 10. The API -->
            <div class="bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden card-hover transition-all duration-300">
                <div class="bg-slate-50 p-4 border-b border-slate-100 flex items-center gap-3">
                    <div class="p-2 bg-blue-100 rounded-lg text-blue-600">
                        <i data-lucide="refresh-cw" class="w-6 h-6"></i>
                    </div>
                    <h3 class="text-xl font-bold text-slate-800">The API</h3>
                </div>
                <div class="p-5 space-y-4">
                    <div class="flex items-center justify-between bg-slate-50 p-3 rounded-lg text-xs mb-2">
                        <div class="text-center">
                          <i data-lucide="terminal" class="w-5 h-5 mx-auto text-slate-600 mb-1"></i>
                          <span>kubectl</span>
                        </div>
                        <i data-lucide="arrow-right" class="w-4 h-4 text-slate-400"></i>
                        <div class="text-center bg-white p-1 rounded border shadow-sm font-mono text-[10px] text-blue-600">
                          POST /api/v1/...
                        </div>
                        <i data-lucide="arrow-right" class="w-4 h-4 text-slate-400"></i>
                        <div class="text-center">
                          <div class="bg-blue-600 p-1 rounded-md text-white mb-1 shadow-sm">
                            <i data-lucide="server" class="w-3 h-3 mx-auto"></i>
                          </div>
                          <span>API Server</span>
                        </div>
                     </div>
                    <div class="space-y-1">
                        <h4 class="text-xs font-bold uppercase tracking-wider text-slate-400">Restful Design</h4>
                        <div class="text-sm text-slate-600">
                            Everything in K8s is an API object served via HTTP.
                            <div class="text-[10px] bg-slate-100 p-2 rounded mt-2 font-mono border border-slate-200">Group / Version / Resource</div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <footer class="mt-16 text-center text-slate-400 text-sm pb-8">
            Interactive Visualization of Kubernetes Core Concepts
        </footer>
    </div>

    <!-- JavaScript for Interactivity -->
    <script>
        // Initialize Icons
        lucide.createIcons();

        // --- Logic for Labels & Selectors ---
        const pods = [
            { id: 1, app: 'web', env: 'prod', color: 'bg-blue-500' },
            { id: 2, app: 'db', env: 'prod', color: 'bg-red-500' },
            { id: 3, app: 'web', env: 'dev', color: 'bg-blue-300' },
            { id: 4, app: 'db', env: 'dev', color: 'bg-red-300' },
        ];

        function renderPods(filter) {
            const container = document.getElementById('pod-container');
            container.innerHTML = '';
            
            const filtered = filter === 'all' 
                ? pods 
                : pods.filter(p => filter === 'prod' ? p.env === 'prod' : p.app === 'web');
            
            filtered.forEach(pod => {
                const div = document.createElement('div');
                div.className = `${pod.color} w-8 h-8 rounded animate-bounce-short shadow-sm flex items-center justify-center text-[8px] text-white font-bold`;
                div.textContent = pod.app;
                container.appendChild(div);
            });

            // Update button styles
            document.querySelectorAll('.filter-btn').forEach(btn => {
                if(btn.dataset.filter === filter) {
                    btn.className = 'filter-btn text-[10px] px-2 py-1 rounded bg-slate-800 text-white transition hover:opacity-80';
                } else {
                    btn.className = 'filter-btn text-[10px] px-2 py-1 rounded bg-white text-slate-800 border transition hover:bg-slate-50';
                }
            });
        }

        // Expose to window for onclick
        window.filterPods = renderPods;
        // Initial render
        renderPods('all');


        // --- Logic for Finalizers ---
        window.triggerDelete = function() {
            const pvc = document.getElementById('pvc-object');
            const btnContainer = document.getElementById('delete-state');
            
            // Visual change
            pvc.classList.add('opacity-50');
            
            // Show terminating state
            const originalBtn = btnContainer.innerHTML;
            btnContainer.innerHTML = `
                <div class="flex items-center gap-1 text-orange-500 bg-orange-50 px-2 py-1 rounded text-xs animate-pulse border border-orange-200">
                    <i data-lucide="shield-alert" class="w-3 h-3"></i>
                    <span>Terminating...</span>
                </div>
            `;
            lucide.createIcons(); // Re-init icons for the new content

            // Reset after 3 seconds
            setTimeout(() => {
                pvc.classList.remove('opacity-50');
                btnContainer.innerHTML = `
                    <button onclick="triggerDelete()" class="bg-red-50 text-red-600 hover:bg-red-100 p-1.5 rounded text-xs transition-colors flex items-center gap-1 px-3 border border-red-200">
                        <i data-lucide="trash-2" class="w-3 h-3"></i> Delete
                    </button>
                `;
                lucide.createIcons();
            }, 3000);
        };
    </script>
</body>
</html>
